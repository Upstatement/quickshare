!function(a,b){var c=function(a,b){return b?a+b:""},d=function(a,b){return a?escape(a):b},e=function(a,b){if(a.match(/http:\/\/*/g)||(a="http://"+a),b)for(;"/"===a.charAt(a.length-1);)a=a.substr(0,a.length-1);return a},f=function(a,b){var c="qs-";return a?a.data(c+b):!1},g=function(a,b){var c=a.parents(".qs-container[data-qs-"+b+"]");return c?f(c,b):!1},h=function(a){var c={},d=g(a,"url"),h=g(a,"title"),i=g(a,"suffix");container_image=g(a,"image"),container_description=g(a,"description");var j=f(a,"suffix")||i||"",k=f(a,"url")||d||b.location.href,l=f(a,"title")||h||"Sharing: ",m=f(a,"image")||container_image||"";return description=f(a,"description")||container_description||"",k=j?e(k,!0)+j:e(k,!1),c.src_url=escape(k),c.title=escape(l),c.image=escape(m),c.description=escape(description),c},i={};i["default"]={extractParams:h,makeUrl:function(){return console.error("did not provide service to share to"),null}},i["facebook-share"]={extractParams:h,makeUrl:function(a){var b="https://www.facebook.com/sharer/sharer.php?u="+a.src_url;return b="javascript:window.open('"+b+"','mywin','width=620,height=350');"},getCount:function(b,c){a.ajax({url:"https://api.facebook.com/method/links.getStats?urls="+b+"&format=json",success:function(a){c(a.length>0?a[0].share_count:0)},dataType:"jsonp",crossDomain:!0})},icon:"facebook"},i["google-plus-share"]={extractParams:h,makeUrl:function(a){var b="https://plus.google.com/share?url="+a.src_url;return b},getCount:function(b){a.ajax({url:"https://clients6.google.com/rpc",success:function(a){console.log(a)},crossDomain:!0,datatype:"jsonp",body:[{method:"pos.plusones.get",id:"p",params:{nolog:!0,id:b,source:"widget",userId:"@viewer",groupId:"@self"},jsonrpc:"2.0",key:"p",apiVersion:"v1"}]})},icon:"google-plus"},i["hacker-news"]={extractParams:h,makeUrl:function(a){var b="http://news.ycombinator.com/submitlink?u="+a.src_url+c("&t=",a.title);return b},getCount:function(b,c){a.ajax({url:"https://hn.algolia.com/api/v1/search?query=%22"+b+"%22&tags=story&advancedSyntax=true&attributesToRetrieve=points,url",success:function(a){c(a.hits.length>0?a.hits[0].points:0)},crossDomain:!0})},icon:"external-link"},i.linkedin={extractParams:function(a){var b=h(a),c=f(a,"summary");return source=f(a,"source"),c&&c.length<256&&(b.summary=d(c,null)),source&&source.length<200&&(b.source=d(source,null)),b.title&&b.title.length>200&&(b.title="Share on LinkedIn"),b},makeUrl:function(a){var b="http://www.linkedin.com/shareArticle?mini=true&url="+a.src_url+c("&title=",a.title)+c("&summary=",a.summary)+c("&source=",a.source);return b="javascript:window.open('"+b+"','mywin','width=620,height=350');"},getCount:function(a,b){b(0)},icon:"linkedin"},i.mailto={extractParams:function(a){var b=h(a),c=f(a,"mail-body"),e=f(a,"subject"),g=f(a,"send-to");return b.mail_body=d(c,b.title+escape(" ")+b.src_url),b.subject=d(e,b.title),b.send_to=escape(g||""),b},makeUrl:function(a){var b="mailto:"+a.send_to+c("?body=",a.mail_body)+c("&subject=",a.subject);return b},getCount:function(){},icon:"envelope-o"},i.pinterest={extractParams:h,makeUrl:function(a){var b="http://www.pinterest.com/pin/create/button/?url="+a.src_url+"&media="+a.image+"&description="+a.description;return b}},i.reddit={extractParams:h,makeUrl:function(a){var b="http://www.reddit.com/submit?url="+a.src_url+c("&title=",a.title);return b},getCount:function(b,c){a.ajax({url:"http://buttons.reddit.com/button_info.json?url="+b,success:function(a){c(a.data.children.length>0?a.data.children[0].data.ups:0)},crossDomain:!0})},icon:"external-link"},i.twitter={extractParams:function(a){var b=h(a),c=f(a,"tweet-body"),e=f(a,"via-username");return b.tweet_body=d(c,b.title),b.via_username=d(e,null),b},makeUrl:function(a){var b="https://twitter.com/intent/tweet?url="+a.src_url+c("&text=",a.tweet_body)+c("&via=",a.via_username);return b="javascript:window.open('"+b+"','mywin','width=620,height=350');"},getCount:function(b,c){a.ajax({url:"http://urls.api.twitter.com/1/urls/count.json?url="+b,success:function(a){c(a.count)},dataType:"jsonp",crossDomain:!0})},icon:"twitter"},b.quickShare=function(c){c||(c=b.document);var d=a(c),e=d.find(".qs-link");e.each(function(){var b=a(this),c=f(b,"service")||"default",d=f(b,"count-selector")||!1,e=b.children("i.qs-icon")||!1,g=i[c]||i["default"],h=g.extractParams(b),j=g.makeUrl(h);j&&b.attr("href",j),e&&e.addClass("fa fa-"+g.icon),d&&g.getCount(h.src_url,function(b){a(d).text(b)})})}}(jQuery,window);