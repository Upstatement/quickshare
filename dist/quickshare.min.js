!function(a){var b=function(a,b){return b?a+b:""},c=function(a){return a=(a+"").toString(),encodeURIComponent(a).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/" "/g,"%20")},d=function(a){return decodeURIComponent(a).replace(/%20/g," ")},e=function(a,b){return a?c(a):b},f=function(a,b){if(-1===a.indexOf("http:")&&-1===a.indexOf("https:")&&(a="http://"+a),b)for(;"/"===a.charAt(a.length-1);)a=a.substr(0,a.length-1);return a},g=function(a,b){var c="data-qs-";return a?a.getAttribute(c+b):!1},h=function(a,b){a&&(a.classList?a.classList.add(b):PGACommon.hasClass(a,b)||(a.className+=" "+b))},i=function(a,b){return a.classList?a.classList.contains(b):!!a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))},j=function(a,b){for(var c=[];a.parentNode;)a=a.parentNode,void 0!=a.className&&i(a,b)&&c.push(a);return c},k=function(a,b){for(var c=j(a,"qs-container"),d=0;d<c.length;d++){var e=c[d].getAttribute("data-qs-"+b);if(""!=e&&e)return e}},l=function(b){var c={},d=k(b,"url"),e=k(b,"title"),h=k(b,"suffix");container_image=k(b,"image"),container_description=k(b,"description");var i=g(b,"suffix")||h||"",j=g(b,"url")||d||a.location.href,l=g(b,"title")||e||"Sharing: ",m=g(b,"image")||container_image||"";return description=g(b,"description")||container_description||"",j=i?f(j,!0)+i:f(j,!1),c.src_url=encodeURIComponent(j),c.title=encodeURIComponent(l),c.image=encodeURIComponent(m),c.description=encodeURIComponent(description),c},m={};m["default"]={extractParams:l,makeUrl:function(a){return console.error("did not provide service to share to"),null}},m["facebook-share"]={extractParams:l,makeUrl:function(a){var b="https://www.facebook.com/sharer/sharer.php?u="+a.src_url;return b="javascript:window.open('"+b+"','myFacebookWin','width=620,height=350'); void(0)"},icon:"facebook-square"},m["google-plus-share"]={extractParams:l,makeUrl:function(a){var b="https://plus.google.com/share?url="+a.src_url;return b},icon:"google-plus-square"},m["hacker-news"]={extractParams:l,makeUrl:function(a){var c="http://news.ycombinator.com/submitlink?u="+a.src_url+b("&t=",a.title);return c},getCount:function(a,b){var c=new XMLHttpRequest;c.open("GET","https://hn.algolia.com/api/v1/search?query=%22"+a,!0),c.onload=function(){var a=JSON.parse(c.responseText);c.status>=200&&c.status<400?a.hits.length>0&&b(a.hits[0].points):b(0)},c.onerror=function(a){console.log("Quickshare getCount error: ",a)},c.send()},icon:"hacker-news"},m.linkedin={extractParams:function(a){var b=l(a),c=g(a,"summary");return source=g(a,"source"),c&&c.length<256&&(b.summary=e(c,null)),source&&source.length<200&&(b.source=e(source,null)),b.title&&b.title.length>200&&(b.title="Share on LinkedIn"),b},makeUrl:function(a){var c="http://www.linkedin.com/shareArticle?mini=true&url="+a.src_url+b("&title=",a.title)+b("&summary=",a.summary)+b("&source=",a.source);return c="javascript:window.open('"+encodeURIComponent(c)+"','myLinkedinWin','width=620,height=350'); void(0)"},getCount:function(a,b){b(0)},icon:"linkedin"},m.mailto={extractParams:function(a){var b=l(a),c=a.dataset.mailBody||null,d=a.dataset.subject||null,f=a.dataset.sendTo||null;return b.mail_body=c?encodeURIComponent(c+" ")+b.src_url:b.title+encodeURIComponent(" ")+b.src_url,b.subject=e(d,b.title),b.send_to=f||"",b},makeUrl:function(a){var c="mailto:"+a.send_to+b("?body=",a.mail_body)+b("&subject=",a.subject);return c},icon:"envelope"},m.pinterest={extractParams:l,makeUrl:function(a){var b="http://www.pinterest.com/pin/create/button/?url="+a.src_url+"&media="+a.image+"&description="+a.description;return b},icon:"pinterest-square"},m.reddit={extractParams:l,makeUrl:function(a){var c="http://www.reddit.com/submit?url="+a.src_url+b("&title=",a.title);return c},getCount:function(a,b){var c=new XMLHttpRequest;c.open("GET","http://buttons.reddit.com/button_info.json?url="+a,!0),c.onload=function(){var a=JSON.parse(c.responseText);c.status>=200&&c.status<400?a.data.children.length>0&&b(a.data.children[0].data.ups):b(0)},c.onerror=function(a){console.log("Quickshare getCount error: ",a)},c.send()},icon:"reddit-square"},m.twitter={extractParams:function(a){var b=l(a),f=a.dataset.qsTweetBody,g=a.dataset.qsViaUsername;return f?b.tweet_body=e(f,b.title):b.tweet_body=c(d(b.title)),b.via_username=e(g,null),b},makeUrl:function(a){var c="https://twitter.com/intent/tweet?url="+a.src_url+b("&text=",a.tweet_body)+b("&via=",a.via_username);return c="javascript:window.open('"+encodeURIComponent(c)+"','myTwitterWin','width=620,height=350'); void(0)"},icon:"twitter-square"},a.quickShare=function(b){b||(b=a.document),qslinks=b.querySelectorAll(".qs-link"),[].forEach.call(qslinks,function(a){var c=a,d=c.dataset.qsService||"default",e=c.dataset.qsCountSelector||!1,f=c.querySelector("i.qs-icon")||!1,g=m[d]||m["default"],i=g.extractParams(c),j=g.makeUrl(i);j&&(c.href=j),f&&(h(f,"fa"),h(f,"fa-"+g.icon)),e&&g.getCount&&g.getCount(i.src_url,function(a){var c=b.querySelector(e);c&&(c.innerHTML=a)})})}}(window);