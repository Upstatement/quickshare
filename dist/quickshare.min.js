(function(e,t){var n=function(e,t){if(t)return e+t;return""};var r=function(e,t){if(e)return escape(e);return t};var i=function(e,t){if(!e.match(/http:\/\/*/g))e="http://"+e;if(t){while(e.charAt(e.length-1)==="/"){e=e.substr(0,e.length-1)}}return e};var s=function(e,t){var n="qs-";if(e)return e.data(n+t);return false};var o=function(e,t){var n=e.parents(".qs-container[data-qs-"+t+"]");if(n)return s(n,t);else return false};var u=function(e){var n={},r=o(e,"url"),u=o(e,"title"),a=o(e,"suffix");container_image=o(e,"image");container_description=o(e,"description");var l=s(e,"suffix")||a||"",c=s(e,"url")||r||t.location.href,h=s(e,"title")||u||"Sharing: ",p=s(e,"image")||container_image||"";description=s(e,"description")||container_description||"";if(l){c=i(c,true)+l}else{c=i(c,false)}n.src_url=escape(c);n.title=escape(h);n.image=escape(p);n.description=escape(description);return n};var a={};a["default"]={extractParams:u,makeUrl:function(e){console.error("did not provide service to share to");return null}};a["facebook-share"]={extractParams:u,makeUrl:function(e){var t="https://www.facebook.com/sharer/sharer.php?u="+e.src_url;return t},getCount:function(t,n){e.ajax({url:"https://api.facebook.com/method/links.getStats?urls="+t+"&format=json",success:function(e){if(e.length>0)n(e[0].share_count);else n(0)},dataType:"jsonp",crossDomain:true})},icon:"facebook"};a["google-plus-share"]={extractParams:u,makeUrl:function(e){var t="https://plus.google.com/share?url="+e.src_url;return t},getCount:function(t,n){e.ajax({url:"https://clients6.google.com/rpc",success:function(e){console.log(e)},crossDomain:true,datatype:"jsonp",body:[{method:"pos.plusones.get",id:"p",params:{nolog:true,id:t,source:"widget",userId:"@viewer",groupId:"@self"},jsonrpc:"2.0",key:"p",apiVersion:"v1"}]})},icon:"google-plus"};a["hacker-news"]={extractParams:u,makeUrl:function(e){var t="http://news.ycombinator.com/submitlink?u="+e.src_url+n("&t=",e.title);return t},getCount:function(t,n){e.ajax({url:"https://hn.algolia.com/api/v1/search?query=%22"+t+"%22&tags=story&advancedSyntax=true&attributesToRetrieve=points,url",success:function(e){if(e.hits.length>0)n(e.hits[0].points);else n(0)},crossDomain:true})},icon:"external-link"};a["linkedin"]={extractParams:function(e){var t=u(e),n=s(e,"summary");source=s(e,"source");if(n&&n.length<256){t.summary=r(n,null)}if(source&&source.length<200){t.source=r(source,null)}if(t.title&&t.title.length>200){t.title="Share on LinkedIn"}return t},makeUrl:function(e){var t="http://www.linkedin.com/shareArticle?mini=true&url="+e.src_url+n("&title=",e.title)+n("&summary=",e.summary)+n("&source=",e.source);return t},getCount:function(e,t){t(0)},icon:"linkedin"};a["mailto"]={extractParams:function(e){var t=u(e),n=s(e,"mail-body"),i=s(e,"subject"),o=s(e,"send-to");t.mail_body=r(n,t.title+escape(" ")+t.src_url);t.subject=r(i,t.title);t.send_to=escape(o||"");return t},makeUrl:function(e){var t="mailto:"+e.send_to+n("?body=",e.mail_body)+n("&subject=",e.subject);return t},getCount:function(e,t){},icon:"envelope-o"};a["pinterest"]={extractParams:u,makeUrl:function(e){var t="http://www.pinterest.com/pin/create/button/?url="+e.src_url+"&media="+e.image+"&description="+e.description;return t}};a["reddit"]={extractParams:u,makeUrl:function(e){var t="http://www.reddit.com/submit?url="+e.src_url+n("&title=",e.title);return t},getCount:function(t,n){e.ajax({url:"http://buttons.reddit.com/button_info.json?url="+t,success:function(e){if(e.data.children.length>0)n(e.data.children[0].data.ups);else n(0)},crossDomain:true})},icon:"external-link"};a["twitter"]={extractParams:function(e){var t=u(e),n=s(e,"tweet-body"),i=s(e,"via-username");t.tweet_body=r(n,t.title);t.via_username=r(i,null);return t},makeUrl:function(e){var t="https://twitter.com/intent/tweet?url="+e.src_url+n("&text=",e.tweet_body)+n("&via=",e.via_username);return t},getCount:function(t,n){e.ajax({url:"http://urls.api.twitter.com/1/urls/count.json?url="+t,success:function(e){n(e.count)},dataType:"jsonp",crossDomain:true})},icon:"twitter"};t.quickShare=function(n){if(!n)n=t.document;var r=e(n),i=r.find(".qs-link");i.each(function(){var t=e(this),n=s(t,"service")||"default",r=s(t,"count-selector")||false,i=t.children("i.qs-icon")||false,o=a[n]||a["default"],u=o.extractParams(t),l=o.makeUrl(u);if(l)t.attr("href",l);if(i)i.addClass("fa fa-"+o.icon);if(r){o.getCount(u.src_url,function(t){e(r).text(t)})}})}})(jQuery,window)