!function(a,b){var c=function(a,b){return b?a+b:""},d=function(a,b){return a?escape(a):b},e=function(a,b){if(a.match(/http:\/\/*/g)||(a="http://"+a),b)for(;"/"===a.charAt(a.length-1);)a=a.substr(0,a.length-1);return a},f=function(a,b){var c="qs-";return a.data(c+b)},g=function(a){var c,d,g,h={},i=a.parents(".qs-container");i&&(c=f(i,"url"),d=f(i,"title"),g=f(i,"suffix"));var j=f(a,"suffix")||g||"",k=f(a,"url")||c||b.location.href,l=f(a,"title")||d||"Sharing: ";return k=j?e(k,!0)+j:e(k,!1),h.src_url=escape(k),h.title=escape(l),h},h={};h["default"]={extractParams:g,makeUrl:function(){return console.error("did not provide service to share to"),null}},h["facebook-share"]={extractParams:g,makeUrl:function(a){var b="https://www.facebook.com/sharer/sharer.php?u="+a.src_url;return b},getCount:function(b,c){a.ajax({url:"https://api.facebook.com/method/links.getStats?urls="+b+"&format=json",success:function(a){c(a.length>0?a[0].share_count:0)},dataType:"jsonp",crossDomain:!0})},icon:"facebook"},h["google-plus-share"]={extractParams:g,makeUrl:function(a){var b="https://plus.google.com/share?url="+a.src_url;return b},getCount:function(a,b){b(0)},icon:"google-plus"},h["hacker-news"]={extractParams:g,makeUrl:function(a){var b="http://news.ycombinator.com/submitlink?u="+a.src_url+c("&t=",a.title);return b},getCount:function(b,c){a.ajax({url:"https://hn.algolia.com/api/v1/search?query=%22"+b+"%22&tags=story&advancedSyntax=true&attributesToRetrieve=points,url",success:function(a){c(a.hits.length>0?a.hits[0].points:0)},crossDomain:!0})},icon:"external-link"},h.mailto={extractParams:function(a){var b=g(a),c=f(a,"mail-body"),e=f(a,"subject"),h=f(a,"send-to");return b.mail_body=d(c,b.title+escape(" ")+b.src_url),b.subject=d(e,b.title),b.send_to=escape(h||""),b},makeUrl:function(a){var b="mailto:"+a.send_to+c("?body=",a.mail_body)+c("&subject=",a.subject);return b},getCount:function(){},icon:"envelope-o"},h.reddit={extractParams:g,makeUrl:function(a){var b="http://www.reddit.com/submit?url="+a.src_url+c("&title=",a.title);return b},getCount:function(b,c){a.ajax({url:"http://buttons.reddit.com/button_info.json?url="+b,success:function(a){c(a.data.children.length>0?a.data.children[0].data.ups:0)},crossDomain:!0})},icon:"external-link"},h.twitter={extractParams:function(a){var b=g(a),c=f(a,"tweet-body"),e=f(a,"via-username");return b.tweet_body=d(c,b.title),b.via_username=d(e,null),b},makeUrl:function(a){var b="https://twitter.com/intent/tweet?url="+a.src_url+c("&text=",a.tweet_body)+c("&via=",a.via_username);return b},getCount:function(b,c){a.ajax({url:"http://urls.api.twitter.com/1/urls/count.json?url="+b,success:function(a){c(a.count)},dataType:"jsonp",crossDomain:!0})},icon:"twitter"},b.quickShare=function(c){c||(c=b.document);var d=a(c),e=d.find(".qs-link");e.each(function(){var b=a(this),c=f(b,"service")||"default",d=f(b,"count-selector")||!1,e=b.children("i.qs-icon")||!1,g=h[c]||h["default"],i=g.extractParams(b),j=g.makeUrl(i);j&&b.attr("href",j),e&&e.addClass("fa fa-"+g.icon),d&&g.getCount(i.src_url,function(b){a(d).text(b)})})}}(jQuery,window);