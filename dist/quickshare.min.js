!function(a,b){var c=function(a,b){return b?a+b:""},d=function(a){return a=(a+"").toString(),encodeURIComponent(a).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/" "/g,"%20")},e=function(a){return decodeURIComponent(a).replace(/%20/g," ")},f=function(a,b){return a?d(a):b},g=function(a,b){if(-1===a.indexOf("http:")&&-1===a.indexOf("https:")&&(a="http://"+a),b)for(;"/"===a.charAt(a.length-1);)a=a.substr(0,a.length-1);return a},h=function(a,b){var c="data-qs-";return a?a.getAttribute(c+b):!1},i=function(a,b){a&&(a.classList?a.classList.add(b):PGACommon.hasClass(a,b)||(a.className+=" "+b))},j=function(a,b){return a.classList?a.classList.contains(b):!!a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))},k=function(a,b){for(var c=[];a.parentNode;)a=a.parentNode,void 0!=a.className&&j(a,b)&&c.push(a);return c},l=function(a,b){for(var c=k(a,"qs-container"),d=0;d<c.length;d++){var e=c[d].getAttribute("data-qs-"+b);if(""!=e&&e)return e}},m=function(a){var c={},d=l(a,"url"),e=l(a,"title"),f=l(a,"suffix");container_image=l(a,"image"),container_description=l(a,"description");var i=h(a,"suffix")||f||"",j=h(a,"url")||d||b.location.href,k=h(a,"title")||e||"Sharing: ",m=h(a,"image")||container_image||"";return description=h(a,"description")||container_description||"",j=i?g(j,!0)+i:g(j,!1),c.src_url=encodeURIComponent(j),c.title=encodeURIComponent(k),c.image=encodeURIComponent(m),c.description=encodeURIComponent(description),c},n={};n["default"]={extractParams:m,makeUrl:function(a){return console.error("did not provide service to share to"),null}},n["facebook-share"]={extractParams:m,makeUrl:function(a){var b="https://www.facebook.com/sharer/sharer.php?u="+a.src_url;return b="javascript:window.open('"+b+"','myFacebookWin','width=620,height=350'); void(0)"},getCount:function(b,c){a.ajax({url:"https://api.facebook.com/method/links.getStats?urls="+b+"&format=json",success:function(a){c(a.length>0?a[0].share_count:0)},dataType:"jsonp",crossDomain:!0})},icon:"facebook"},n["google-plus-share"]={extractParams:m,makeUrl:function(a){var b="https://plus.google.com/share?url="+a.src_url;return b},getCount:function(b,c){a.ajax({url:"https://clients6.google.com/rpc",success:function(a){console.log(a)},crossDomain:!0,datatype:"jsonp",body:[{method:"pos.plusones.get",id:"p",params:{nolog:!0,id:b,source:"widget",userId:"@viewer",groupId:"@self"},jsonrpc:"2.0",key:"p",apiVersion:"v1"}]})},icon:"google-plus"},n["hacker-news"]={extractParams:m,makeUrl:function(a){var b="http://news.ycombinator.com/submitlink?u="+a.src_url+c("&t=",a.title);return b},getCount:function(b,c){a.ajax({url:"https://hn.algolia.com/api/v1/search?query=%22"+b+"%22&tags=story&advancedSyntax=true&attributesToRetrieve=points,url",success:function(a){c(a.hits.length>0?a.hits[0].points:0)},crossDomain:!0})},icon:"hacker-news"},n.linkedin={extractParams:function(a){var b=m(a),c=h(a,"summary");return source=h(a,"source"),c&&c.length<256&&(b.summary=f(c,null)),source&&source.length<200&&(b.source=f(source,null)),b.title&&b.title.length>200&&(b.title="Share on LinkedIn"),b},makeUrl:function(a){var b="http://www.linkedin.com/shareArticle?mini=true&url="+a.src_url+c("&title=",a.title)+c("&summary=",a.summary)+c("&source=",a.source);return b="javascript:window.open('"+encodeURIComponent(b)+"','myLinkedinWin','width=620,height=350'); void(0)"},getCount:function(a,b){b(0)},icon:"linkedin"},n.mailto={extractParams:function(a){var b=m(a),c=h(a,"mail-body"),d=h(a,"subject"),e=h(a,"send-to");return c?b.mail_body=encodeURIComponent(c+" ")+b.src_url:b.mail_body=b.title+encodeURIComponent(" ")+b.src_url,b.subject=f(d,b.title),b.send_to=e||"",b},makeUrl:function(a){var b="mailto:"+a.send_to+c("?body=",a.mail_body)+c("&subject=",a.subject);return b},getCount:function(a,b){},icon:"envelope-o"},n.pinterest={extractParams:m,makeUrl:function(a){var b="http://www.pinterest.com/pin/create/button/?url="+a.src_url+"&media="+a.image+"&description="+a.description;return b},icon:"pinterest-p"},n.reddit={extractParams:m,makeUrl:function(a){var b="http://www.reddit.com/submit?url="+a.src_url+c("&title=",a.title);return b},getCount:function(b,c){a.ajax({url:"http://buttons.reddit.com/button_info.json?url="+b,success:function(a){c(a.data.children.length>0?a.data.children[0].data.ups:0)},crossDomain:!0})},icon:"reddit"},n.twitter={extractParams:function(a){var b=m(a),c=a.dataset.qsTweetBody,g=a.dataset.qsViaUsername;return c?b.tweet_body=f(c,b.title):b.tweet_body=d(e(b.title)),b.via_username=f(g,null),b},makeUrl:function(a){var b="https://twitter.com/intent/tweet?url="+a.src_url+c("&text=",a.tweet_body)+c("&via=",a.via_username);return b="javascript:window.open('"+encodeURIComponent(b)+"','myTwitterWin','width=620,height=350'); void(0)"},icon:"twitter"},b.quickShare=function(a){a||(a=b.document),qslinks=a.querySelectorAll(".qs-link"),[].forEach.call(qslinks,function(b){var c=b,d=c.dataset.qsService||"default",e=c.dataset.qsCountSelector||!1,f=c.querySelector("i.qs-icon")||!1,g=n[d]||n["default"],h=g.extractParams(c),j=g.makeUrl(h);j&&(c.href=j),f&&(i(f,"fa"),i(f,"fa-"+g.icon)),e&&(console.log(g.getCount),g.getCount&&g.getCount(h.src_url,function(b){var c=a.querySelector(e);c&&c.innerHTML(b)}))})}}(jQuery,window);