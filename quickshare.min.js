var _mightInclude=function(e,t){return t?e+t:""},_rawUrlEncode=function(e){return e=(e+"").toString(),encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/" "/g,"%20")},_rawUrlDecode=function(e){return decodeURIComponent(e).replace(/%20/g," ")},_setNonEscapedDefault=function(e,t){return e?_rawUrlEncode(e):t},_formatUrl=function(e,t){if(-1===e.indexOf("http:")&&-1===e.indexOf("https:")&&(e="http://"+e),t)for(;"/"===e.charAt(e.length-1);)e=e.substr(0,e.length-1);return e},_camelCasify=function(e){return e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})},_getData=function(e,t){var n=_camelCasify("qs-"+t);return!!e&&e.dataset[n]},_addClass=function(e,t){e&&(e.classList?e.classList.add(t):PGACommon.hasClass(e,t)||(e.className+=" "+t))},_hasClass=function(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},_getParents=function(e,t){for(var n=[];e.parentNode;)void 0!==(e=e.parentNode).className&&_hasClass(e,t)&&n.push(e);return n},_getContainerData=function(e,t){for(var n=_getParents(e,"qs-container"),r=0;r<n.length;r++){var a=_camelCasify("qs-"+t),o=n[r].dataset[a];if(""!==o&&o)return o}},_defaultParams=function(e){var t={},n=_getContainerData(e,"url"),r=_getContainerData(e,"title"),a=_getContainerData(e,"suffix");container_image=_getContainerData(e,"image"),container_description=_getContainerData(e,"description");var o=_getData(e,"suffix")||a||"",s=_getData(e,"url")||n||window.location.href,i=_getData(e,"title")||r||"Sharing: ",c=_getData(e,"image")||container_image||"";return description=_getData(e,"description")||container_description||"",s=o?_formatUrl(s,!0)+o:_formatUrl(s,!1),t.src_url=encodeURIComponent(s),t.title=encodeURIComponent(i),t.image=encodeURIComponent(c),t.description=encodeURIComponent(description),t},services_lib={};services_lib.default={extractParams:_defaultParams,makeUrl:function(e){return console.error("did not provide service to share to"),null}},services_lib["facebook-share"]={extractParams:_defaultParams,makeUrl:function(e){return"javascript:window.open('"+("https://www.facebook.com/sharer/sharer.php?u="+e.src_url)+"','myFacebookWin','width=620,height=350');void(0)"},icon:"facebook"},services_lib["google-plus-share"]={extractParams:_defaultParams,makeUrl:function(e){return"https://plus.google.com/share?url="+e.src_url},icon:"google-plus"},services_lib["hacker-news"]={extractParams:_defaultParams,makeUrl:function(e){return"https://news.ycombinator.com/submitlink?u="+e.src_url+_mightInclude("&t=",e.title)},getCount:function(e,t){var n=new XMLHttpRequest;n.open("GET","https://hn.algolia.com/api/v1/search?query=%22"+e,!0),n.onload=function(){var e=JSON.parse(n.responseText);n.status>=200&&n.status<400?e.hits.length>0&&t(e.hits[0].points):t(0)},n.onerror=function(e){console.log("Quickshare getCount error: ",e)},n.send()},icon:"hacker-news"},services_lib.linkedin={extractParams:function(e){var t=_defaultParams(e),n=e.dataset.qsSummary||null;return source=e.dataset.qsSource||null,n&&n.length<256&&(t.summary=_setNonEscapedDefault(n,null)),source&&source.length<200&&(t.source=_setNonEscapedDefault(source,null)),t.title&&t.title.length>200&&(t.title="Share on LinkedIn"),t},makeUrl:function(e){var t="https://www.linkedin.com/shareArticle?mini=true&url="+e.src_url+_mightInclude("&title=",e.title)+_mightInclude("&summary=",e.summary)+_mightInclude("&source=",e.source);return"javascript:window.open('"+encodeURIComponent(t)+"','myLinkedinWin','width=620,height=350');void(0)"},icon:"linkedin"},services_lib.mailto={extractParams:function(e){var t=_defaultParams(e),n=e.dataset.qsMailBody||null,r=e.dataset.qsSubject||null,a=e.dataset.qsSendTo||null;return t.mail_body=n?encodeURIComponent(n+" ")+t.src_url:t.title+encodeURIComponent(" ")+t.src_url,t.subject=_setNonEscapedDefault(r,t.title),t.send_to=a||"",t},makeUrl:function(e){return"mailto:"+e.send_to+_mightInclude("?body=",e.mail_body)+_mightInclude("&subject=",e.subject)},icon:"envelope"},services_lib.pinterest={extractParams:_defaultParams,makeUrl:function(e){return"https://www.pinterest.com/pin/create/button/?url="+e.src_url+"&media="+e.image+"&description="+e.description},icon:"pinterest-p"},services_lib.reddit={extractParams:_defaultParams,makeUrl:function(e){return"https://www.reddit.com/submit?url="+e.src_url+_mightInclude("&title=",e.title)},getCount:function(e,t){var n=new XMLHttpRequest;n.open("GET","http://buttons.reddit.com/button_info.json?url="+e,!0),n.onload=function(){var e=JSON.parse(n.responseText);n.status>=200&&n.status<400?e.data.children.length>0&&t(e.data.children[0].data.ups):t(0)},n.onerror=function(e){console.log("Quickshare getCount error: ",e)},n.send()},icon:"reddit-alien"},services_lib.twitter={extractParams:function(e){var t=_defaultParams(e),n=e.dataset.qsTweetBody||null,r=e.dataset.qsViaUsername||null;return t.tweet_body=n?_setNonEscapedDefault(n,t.title):_rawUrlEncode(_rawUrlDecode(t.title)),t.via_username=_setNonEscapedDefault(r,null),t},makeUrl:function(e){var t="https://twitter.com/intent/tweet?url="+e.src_url+_mightInclude("&text=",e.tweet_body)+_mightInclude("&via=",e.via_username);return"javascript:window.open('"+encodeURIComponent(t)+"','myTwitterWin','width=620,height=350');void(0)"},icon:"twitter"},window.quickShare=function(e){e||(e=window.document);var t=e.querySelectorAll(".qs-link");[].forEach.call(t,function(t){var n=t,r=n.dataset.qsService||"default",a=n.dataset.qsCountSelector||!1,o=n.querySelector("i.qs-icon")||!1,s=services_lib[r]||services_lib.default,i=s.extractParams(n),c=s.makeUrl(i);c&&(n.href=c),o&&(_addClass(o,"fa"),_addClass(o,"fa-"+s.icon)),a&&s.getCount&&s.getCount(i.src_url,function(t){var n=e.querySelector(a);n&&(n.innerHTML=t)})})};